# Yorisol 開発完成度90%達成タスク

**目標完成度**: 90%  
**現在の完成度**: 70%  
**必要工数**: 約20営業日

---

## ⏳ 保留中の設定タスク

- [ ] **Sentry契約・環境変数設定** - SDK導入済み、アカウント契約待ち（週次リマインダー設定済み → [詳細](pending_tasks_reminder.md)）

---

## Phase 1: 品質基盤（Week 1）

### 1.1 E2Eテスト導入
- [ ] Playwright セットアップ
- [ ] ログインフローテスト
- [ ] 業務日誌入力・保存テスト
- [ ] 利用者マスタCRUDテスト
- [ ] 医療連携V計算テスト
- [ ] CI連携（GitHub Actions）

### 1.2 エラー監視導入
- [ ] Sentry セットアップ
- [ ] Server Actions エラー捕捉
- [ ] クライアントエラー捕捉
- [ ] 環境別設定（dev/prod）

---

## Phase 2: 帳票出力（Week 2）

### 2.1 月次サマリーPDF
- [ ] PDF生成ライブラリ選定（react-pdf等）
- [ ] 業務日誌月次サマリーテンプレート
- [ ] 医療連携V月次レポートテンプレート
- [ ] ダウンロードボタン実装

### 2.2 CSVエクスポート
- [ ] 利用者一覧CSV
- [ ] 業務日誌データCSV
- [ ] 請求用データCSV

---

## Phase 3: ドキュメント・運用（Week 3）

### 3.1 操作マニュアル
- [ ] 管理者向けマニュアル（施設設定、スタッフ管理）
- [ ] スタッフ向けクイックガイド（業務日誌入力）
- [ ] トラブルシューティングガイド
- [ ] FAQ

### 3.2 CI/CD強化
- [ ] テスト自動実行（PRトリガー）
- [ ] Lint・型チェック自動化
- [ ] プレビュー環境自動デプロイ
- [ ] 本番デプロイ承認フロー

---

## Phase 4: 機能強化（Week 4）

### 4.1 バリデーション強化
- [ ] 利用者フォームのバリデーション強化
- [ ] 日付整合性チェック
- [ ] 重複チェック（表示ID等）
- [ ] エラーメッセージ統一

### 4.2 ダッシュボード強化
- [ ] 月次KPI表示（入所率、請求件数等）
- [ ] グラフ表示（Chart.js/Recharts）
- [ ] 直近のアクティビティ一覧

### 4.3 監査ログ
- [ ] 操作履歴テーブル設計
- [ ] 重要操作のログ記録
- [ ] 管理画面での履歴閲覧

---

## オプション（90%以降）

### パフォーマンス最適化
- [ ] 遅いクエリの特定・改善
- [ ] React Server Components活用拡大
- [ ] 画像最適化

### セキュリティ強化
- [ ] セキュリティ監査実施
- [ ] 脆弱性スキャン
- [ ] 2要素認証対応

### 通知機能
- [ ] メール通知（期限アラート等）
- [ ] プッシュ通知（PWA対応）

### データ管理
- [ ] 一括インポート機能
- [ ] データバックアップUI
- [ ] データ完全削除（GDPR対応）

---

## タスク優先度まとめ

| 優先度 | タスク | 工数 |
|--------|--------|------|
| 🔴 高 | E2Eテスト導入 | 3日 |
| 🔴 高 | 月次サマリーPDF | 3日 |
| 🔴 高 | Sentry導入 | 1日 |
| 🟡 中 | 操作マニュアル | 2日 |
| 🟡 中 | CSVエクスポート | 2日 |
| 🟡 中 | CI/CD強化 | 1日 |
| 🟡 中 | バリデーション強化 | 2日 |
| 🟢 低 | ダッシュボードKPI | 3日 |
| 🟢 低 | 監査ログ | 2日 |

**合計: 約19-20営業日**
