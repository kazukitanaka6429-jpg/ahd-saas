# プロジェクト: 介護施設向け現場帳票オートメーションシステム (SaaS)

## Phase 1: 環境構築とDB設計（現在）
- [/] **要件定義と技術設計**
    - [x] プロジェクトタスクリスト作成 (`task.md`)
    - [x] 実装計画書とDBスキーマ案の作成 (`implementation_plan.md`) <!-- id: 0 -->
    - [x] DB設計レビューと承認 <!-- id: 1 -->
- [ ] **開発環境セットアップ**
    - [ ] Next.js (App Router) プロジェクト初期化
    - [ ] Tailwind CSS + Shadcn/UI 導入
    - [ ] Supabase プロジェクト作成 (CLI/Local)
- [ ] **データベース実装**
    - [ ] DBマイグレーションファイル作成 (`schema.sql`)
    - [ ] シードデータ投入 (テスト用マスタ・日誌データ)

## Phase 2: マスタ管理機能 (Single Source of Truth)
- [ ] **認証基盤**
    - [ ] ログイン画面実装
    - [ ] ユーザーロール管理 (本社/施設管理者/スタッフ/権限設定)
- [ ] **マスタ管理画面**
    - [ ] 施設マスタ (CRUD)
    - [ ] 職員マスタ (CRUD, 招待機能)
    - [ ] 利用者マスタ (CRUD, 介護度履歴)

## Phase 3: 日次業務入力機能 (Grid & Chat)
- [ ] **日誌入力インターフェース**
    - [ ] PC向け: グリッド編集コンポーネント (TanStack Table)
    - [ ] スマホ向け: カード/リスト表示コンポーネント
    - [ ] リアルタイム保存ロジック
- [ ] **指摘・チャット機能 (Killer Feature)**
    - [ ] セル/項目ごとのコメント投稿機能
    - [ ] ステータス管理 (指摘中/回答済/承認)
    - [ ] サイドバーチャットUI

## Phase 4: ロジック移行と分析 (Automation & Analytics)
- [ ] **GASロジック移植**
    - [ ] 洗い替え計算ロジック (Edge Functions/Database Functions)
    - [ ] 月またぎ/入院外泊判定ロジック
- [ ] **傾向分析ダッシュボード**
    - [ ] 指適発生状況の可視化
    - [ ] 施設別・職員別パフォーマンス分析

## Phase 5: 検証と本番化
- [ ] E2Eテスト
- [ ] Vercelへのデプロイ
- [ ] マニュアル作成 (Walkthrough)
